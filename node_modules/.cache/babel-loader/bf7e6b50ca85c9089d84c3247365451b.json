{"remainingRequest":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\babel-loader\\lib\\index.js!E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\MyStudyPro\\vue_file\\vue_backstage\\src\\components\\power\\Roles.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\src\\components\\power\\Roles.vue","mtime":1587609187927},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587210266454},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\babel-loader\\lib\\index.js","mtime":1587210265306},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587210266454},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\vue-loader\\lib\\index.js","mtime":1587210275486}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRTpcXE15U3R1ZHlQcm9cXHZ1ZV9maWxlXFx2dWVfYmFja3N0YWdlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFJvbGVzTGlzdCwgcmVtb3ZlUm9sZUxhYmVsLCBnZXRMYWJlbERhdGEsIHVwZGF0ZVJvbGVMYWJlbCwgY3JlYXRlUm9sZSwgdXBkYXRlUm9sZSwgZGVsZXRlUm9sZSwgZ2V0Um9sZURldGFpbCB9IGZyb20gJ25ldHdvcmsvYXBpX3VybC5qcyc7CmltcG9ydCBCcmVhZGNydW1iIGZyb20gJy4uL2NvbW1vbi9CcmVhZGNydW1iJzsKaW1wb3J0IFJlRm9ybSBmcm9tICcuLi9jb21tb24vUmVGb3JtJzsKaW1wb3J0IFJlVGFibGUgZnJvbSAnLi4vY29tbW9uL1JlVGFibGUnOwppbXBvcnQgUmVEaWFsb2cgZnJvbSAnLi4vY29tbW9uL1JlRGlhbG9nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSb2xlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgaGFzX2V4cGFuZDogdHJ1ZSwKICAgICAgcm9sZUlkOiAnJywKICAgICAgcm9sZUxpc3Q6IFtdLAogICAgICBsYWJlbFRyZWVMaXN0OiBbXSwKICAgICAgLy8g6buY6K6k6YCJ5Lit55qE6IqC54K5CiAgICAgIGRlZmFsdXRLZXlzOiBbXSwKICAgICAgcG93ZXJEaWFsb2c6IGZhbHNlLAogICAgICBhZGRSb2xlRGlhbG9nOiBmYWxzZSwKICAgICAgdXBkYXRlUm9sZURpYWxvZzogZmFsc2UsCiAgICAgIFJvbGVUYWJsZUluZm86IFt7CiAgICAgICAgdGl0bGU6ICfop5LoibLlkI3np7AnLAogICAgICAgIHByb3A6ICdyb2xlX25hbWUnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+inkuiJsuaPj+i/sCcsCiAgICAgICAgcHJvcDogJ3JvbGVfZGVzYycKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5pON5L2cJywKICAgICAgICBzbG90OiB0cnVlLAogICAgICAgIG5hbWU6ICdhY3Rpb24nCiAgICAgIH1dLAogICAgICB0cmVlUHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJywKICAgICAgICBsYWJlbDogJ2xhYmVsX25hbWUnCiAgICAgIH0sCiAgICAgIGZvcm1SdWxlczogewogICAgICAgIHJvbGVfbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeinkuiJsuWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDMsCiAgICAgICAgICBtYXg6IDE1LAogICAgICAgICAgbWVzc2FnZTogJ+inkuiJsuWQjemVv+W6puWcqDMtMTXkuYvpl7QnCiAgICAgICAgfV0sCiAgICAgICAgcm9sZV9kZXNjOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy5o+P6L+wJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMywKICAgICAgICAgIG1heDogMjU2LAogICAgICAgICAgbWVzc2FnZTogJ+inkuiJsuWQjemVv+W6puWcqDMtMjU25LmL6Ze0JwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGFkZEZvcm1JbmZvOiB7CiAgICAgICAgZm9ybUZpZWxkczogewogICAgICAgICAgcm9sZV9uYW1lOiAnJywKICAgICAgICAgIHJvbGVfZGVzYzogJycKICAgICAgICB9LAogICAgICAgIGl0ZW1EYXRhOiBbewogICAgICAgICAgbGFiZWw6ICfop5LoibLlkI3np7AnLAogICAgICAgICAgcHJvcDogJ3JvbGVfbmFtZScsCiAgICAgICAgICBuYW1lOiAncm9sZV9uYW1lJywKICAgICAgICAgIHR5cGU6ICd0ZXh0JwogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiAn6KeS6Imy5o+P6L+wJywKICAgICAgICAgIHByb3A6ICdyb2xlX2Rlc2MnLAogICAgICAgICAgbmFtZTogJ3JvbGVfZGVzYycsCiAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgdXBkYXRlRm9ybUluZm86IHsKICAgICAgICBmb3JtRmllbGRzOiB7fSwKICAgICAgICBpdGVtRGF0YTogW3sKICAgICAgICAgIGxhYmVsOiAn6KeS6Imy5ZCN56ewJywKICAgICAgICAgIHByb3A6ICdyb2xlX25hbWUnLAogICAgICAgICAgbmFtZTogJ3JvbGVfbmFtZScsCiAgICAgICAgICB0eXBlOiAndGV4dCcKICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogJ+inkuiJsuaPj+i/sCcsCiAgICAgICAgICBwcm9wOiAncm9sZV9kZXNjJywKICAgICAgICAgIG5hbWU6ICdyb2xlX2Rlc2MnLAogICAgICAgICAgdHlwZTogJ3RleHRhcmVhJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRSb2xlRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Um9sZURhdGE6IGZ1bmN0aW9uIGdldFJvbGVEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZ2V0Um9sZXNMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgIT09IDIwMCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgcmV0dXJuIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5yb2xlTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZUxhYmVsQnlJZDogZnVuY3Rpb24gcmVtb3ZlTGFiZWxCeUlkKHJvbGUsIGxhYmVsX2lkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHBhcm1hcyA9IHsKICAgICAgICByb2xlX2lkOiByb2xlLmlkLAogICAgICAgIGxhYmVsX2lkOiBsYWJlbF9pZAogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhwYXJtYXMpOwogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbliKDpmaTor6Xop5LoibLlt7Lmi6XmnInnmoTmnYPpmZAsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoc3VjY2VzcykgewogICAgICAgIHJlbW92ZVJvbGVMYWJlbChwYXJtYXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlICE9PSAyMDApIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgICAgfQoKICAgICAgICAgIHJvbGUuY2hpbGRyZW4gPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5pbmZvKCfmgqjlt7Llj5bmtojliKDpmaTmnYPpmZAnKTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd1NldFBvd2VyOiBmdW5jdGlvbiBzaG93U2V0UG93ZXIocm9sZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMucm9sZUlkID0gcm9sZS5kYXRhLmlkOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnJvbGVJZCk7CiAgICAgIGdldExhYmVsRGF0YSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlICE9IDIwMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzLmxhYmVsVHJlZUxpc3QgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIF90aGlzMy5wb3dlckRpYWxvZyA9IHRydWU7CgogICAgICAgIF90aGlzMy5nZXRSb2xlZGVmS2V5cyhyb2xlLmRhdGEsIF90aGlzMy5kZWZhbHV0S2V5cyk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFJvbGVkZWZLZXlzOiBmdW5jdGlvbiBnZXRSb2xlZGVmS2V5cyhub2RlLCBhcnIpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAobm9kZS5sYWJlbF9sZXZlbCA9PSAyKSB7CiAgICAgICAgYXJyLnB1c2gobm9kZS5pZCk7CiAgICAgIH0KCiAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7CiAgICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBfdGhpczQuZ2V0Um9sZWRlZktleXMoaXRlbSwgYXJyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNldFBvd2VyRGlhbG9nQ2xvc2VkOiBmdW5jdGlvbiBzZXRQb3dlckRpYWxvZ0Nsb3NlZCgpIHsKICAgICAgdGhpcy5kZWZhbHV0S2V5cyA9IFtdOwogICAgICB0aGlzLnBvd2VyRGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgc2V0Um9sZVBvd2VyOiBmdW5jdGlvbiBzZXRSb2xlUG93ZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGtleXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuJHJlZnMudHJlZVJlZi5nZXRDaGVja2VkS2V5cygpKSwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuJHJlZnMudHJlZVJlZi5nZXRIYWxmQ2hlY2tlZEtleXMoKSkpOwogICAgICB2YXIgaWRTdHIgPSBrZXlzLmpvaW4oJywnKTsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICByb2xlX2lkOiB0aGlzLnJvbGVJZCwKICAgICAgICBsYWJlbF9pZHM6IGlkU3RyCiAgICAgIH07CiAgICAgIHVwZGF0ZVJvbGVMYWJlbChwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlICE9PSAyMDApIHsKICAgICAgICAgIHJldHVybiBfdGhpczUuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzNS5nZXRSb2xlRGF0YSgpOwoKICAgICAgICBfdGhpczUuc2V0UG93ZXJEaWFsb2dDbG9zZWQoKTsKCiAgICAgICAgX3RoaXM1LnBvd2VyRGlhbG9nID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbEFkZFJvbGVEaWFsb2c6IGZ1bmN0aW9uIGNhbmNlbEFkZFJvbGVEaWFsb2coKSB7CiAgICAgIHRoaXMuYWRkUm9sZURpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIGNhbmNlbFVwZGF0ZVJvbGVEaWFsb2c6IGZ1bmN0aW9uIGNhbmNlbFVwZGF0ZVJvbGVEaWFsb2coKSB7CiAgICAgIHRoaXMudXBkYXRlUm9sZURpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLnVwZGF0ZUZvcm1SZWYuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIGFkZFJvbGU6IGZ1bmN0aW9uIGFkZFJvbGUoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgY3JlYXRlUm9sZSh0aGlzLmFkZEZvcm1JbmZvLmZvcm1GaWVsZHMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlICE9IDIwMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNi4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM2LmNhbmNlbEFkZFJvbGVEaWFsb2coKTsKCiAgICAgICAgX3RoaXM2LmdldFJvbGVEYXRhKCk7CgogICAgICAgIHJldHVybiBfdGhpczYuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVSb2xlQnlJZDogZnVuY3Rpb24gcmVtb3ZlUm9sZUJ5SWQocm9sZV9pZCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgcm9sZV9pZDogcm9sZV9pZAogICAgICB9OwogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTmraTop5LoibIsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgZGVsZXRlUm9sZShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgIT09IDIwMCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXM3LiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM3LmdldFJvbGVEYXRhKCk7CgogICAgICAgICAgcmV0dXJuIF90aGlzNy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBfdGhpczcuJG1lc3NhZ2UuaW5mbygn5bey5Y+W5raI5Yig6Zmk6KeS6ImyJyk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dVcGRhdGVEaWFsb2c6IGZ1bmN0aW9uIHNob3dVcGRhdGVEaWFsb2coaWQpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGlkOiBpZAogICAgICB9OwogICAgICBnZXRSb2xlRGV0YWlsKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgIT09IDIwMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzOC4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM4LnVwZGF0ZVJvbGVEaWFsb2cgPSB0cnVlOwogICAgICAgIF90aGlzOC51cGRhdGVGb3JtSW5mby5mb3JtRmllbGRzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlUm9sZUluZm86IGZ1bmN0aW9uIGNoYW5nZVJvbGVJbmZvKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHVwZGF0ZVJvbGUodGhpcy51cGRhdGVGb3JtSW5mby5mb3JtRmllbGRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSAhPT0gMjAwKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM5LiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczkudXBkYXRlUm9sZURpYWxvZyA9IGZhbHNlOwoKICAgICAgICBfdGhpczkuZ2V0Um9sZURhdGEoKTsKCiAgICAgICAgcmV0dXJuIF90aGlzOS4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1zZyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQnJlYWRjcnVtYjogQnJlYWRjcnVtYiwKICAgIFJlVGFibGU6IFJlVGFibGUsCiAgICBSZURpYWxvZzogUmVEaWFsb2csCiAgICBSZUZvcm06IFJlRm9ybQogIH0KfTs="},{"version":3,"sources":["Roles.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <breadcrumb>\r\n            <span slot=\"first-title\">权限管理</span>\r\n            <span slot=\"second-title\">角色列表</span>\r\n        </breadcrumb>\r\n        <el-card>\r\n            <el-button type=\"primary\" @click=\"addRoleDialog = true\"\r\n                >添加角色</el-button\r\n            >\r\n            <!-- 角色列表 -->\r\n            <re-table\r\n                :dataList=\"roleList\"\r\n                :tableInfo=\"RoleTableInfo\"\r\n                :hasExpand=\"has_expand\"\r\n            >\r\n                <template slot-scope=\"expand\" slot=\"expand\">\r\n                    <div class=\"row\">\r\n                        <el-row\r\n                            :class=\"[\r\n                                'bd_bottom',\r\n                                index === 0 ? 'bd_top' : '',\r\n                                'vcenter',\r\n                            ]\"\r\n                            v-for=\"(first_item, index) in expand.data.children\"\r\n                            :key=\"first_item.id\"\r\n                            class=\"vcenter\"\r\n                        >\r\n                            <el-col :span=\"5\">\r\n                                <el-tag\r\n                                    type=\"primary\"\r\n                                    closable\r\n                                    @close=\"\r\n                                        removeLabelById(\r\n                                            expand.data,\r\n                                            first_item.id\r\n                                        )\r\n                                    \"\r\n                                >\r\n                                    {{ first_item.label_name }}\r\n                                </el-tag>\r\n                                <i class=\"el-icon-caret-right\"></i>\r\n                            </el-col>\r\n                            <el-col :span=\"19\">\r\n                                <el-row\r\n                                    :class=\"[\r\n                                        index2 === 0 ? '' : 'bd_top',\r\n                                        'vcenter',\r\n                                    ]\"\r\n                                    v-for=\"(second_item,\r\n                                    index2) in first_item.children\"\r\n                                    :key=\"second_item.id\"\r\n                                >\r\n                                    <el-col :span=\"6\">\r\n                                        <el-tag\r\n                                            type=\"success\"\r\n                                            closable\r\n                                            @close=\"\r\n                                                removeLabelById(\r\n                                                    expand.data,\r\n                                                    second_item.id\r\n                                                )\r\n                                            \"\r\n                                            >{{\r\n                                                second_item.label_name\r\n                                            }}</el-tag\r\n                                        >\r\n                                        <i class=\"el-icon-caret-right\"></i>\r\n                                    </el-col>\r\n                                    <el-col :span=\"18\">\r\n                                        <el-tag\r\n                                            type=\"warning\"\r\n                                            v-for=\"(third_item,\r\n                                            index3) in second_item.children\"\r\n                                            :key=\"third_item.id\"\r\n                                            closable\r\n                                            @close=\"\r\n                                                removeLabelById(\r\n                                                    expand.data,\r\n                                                    third_item.id\r\n                                                )\r\n                                            \"\r\n                                        >\r\n                                            {{ third_item.label_name }}\r\n                                        </el-tag>\r\n                                    </el-col>\r\n                                </el-row>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </div>\r\n                </template>\r\n                <template slot-scope=\"role\" slot=\"action\">\r\n                    <el-button\r\n                        type=\"primary\"\r\n                        size=\"mini\"\r\n                        icon=\"el-icon-edit\"\r\n                        @click=\"showUpdateDialog(role.data.id)\"\r\n                        >修改</el-button\r\n                    >\r\n                    <el-button\r\n                        type=\"danger\"\r\n                        size=\"mini\"\r\n                        icon=\"el-icon-delete\"\r\n                        @click=\"removeRoleById(role.data.id)\"\r\n                        >删除</el-button\r\n                    >\r\n                    <el-tooltip\r\n                        class=\"item\"\r\n                        effect=\"dark\"\r\n                        content=\"分配角色\"\r\n                        placement=\"top\"\r\n                        :enterable=\"false\"\r\n                    >\r\n                        <el-button\r\n                            type=\"warning\"\r\n                            size=\"mini\"\r\n                            icon=\"el-icon-setting\"\r\n                            @click=\"showSetPower(role)\"\r\n                            >分配权限</el-button\r\n                        >\r\n                    </el-tooltip>\r\n                </template>\r\n            </re-table>\r\n            <!-- 分配权限面板 -->\r\n            <re-dialog\r\n                :title=\"`分配权限`\"\r\n                :isShow=\"powerDialog\"\r\n                @dialog-cancel=\"setPowerDialogClosed\"\r\n                @dialog-confirm=\"setRolePower\"\r\n            >\r\n                <el-tree\r\n                    slot=\"content\"\r\n                    :data=\"labelTreeList\"\r\n                    :props=\"treeProps\"\r\n                    node-key=\"id\"\r\n                    show-checkbox\r\n                    default-expand-all\r\n                    ref=\"treeRef\"\r\n                    :default-checked-keys=\"defalutKeys\"\r\n                ></el-tree>\r\n            </re-dialog>\r\n            <re-dialog\r\n                :title=\"`添加角色`\"\r\n                :isShow=\"addRoleDialog\"\r\n                @dialog-cancel=\"cancelAddRoleDialog\"\r\n                @dialog-confirm=\"addRole\"\r\n            >\r\n                <re-form\r\n                    slot=\"content\"\r\n                    :formData=\"addFormInfo\"\r\n                    :formRules=\"formRules\"\r\n                    ref=\"addFormRef\"\r\n                ></re-form>\r\n            </re-dialog>\r\n\r\n            <re-dialog\r\n                :title=\"`修改角色`\"\r\n                :isShow=\"updateRoleDialog\"\r\n                @dialog-cancel=\"cancelUpdateRoleDialog\"\r\n                @dialog-confirm=\"changeRoleInfo\"\r\n            >\r\n                <re-form\r\n                    slot=\"content\"\r\n                    :formData=\"updateFormInfo\"\r\n                    :formRules=\"formRules\"\r\n                    ref=\"updateFormRef\"\r\n                ></re-form>\r\n            </re-dialog>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    getRolesList,\r\n    removeRoleLabel,\r\n    getLabelData,\r\n    updateRoleLabel,\r\n    createRole,\r\n    updateRole,\r\n    deleteRole,\r\n    getRoleDetail,\r\n} from 'network/api_url.js';\r\nimport Breadcrumb from '../common/Breadcrumb';\r\nimport ReForm from '../common/ReForm';\r\nimport ReTable from '../common/ReTable';\r\nimport ReDialog from '../common/ReDialog';\r\nexport default {\r\n    name: 'Role',\r\n    data() {\r\n        return {\r\n            loading: true,\r\n            has_expand: true,\r\n            roleId: '',\r\n            roleList: [],\r\n            labelTreeList: [],\r\n            // 默认选中的节点\r\n            defalutKeys: [],\r\n            powerDialog: false,\r\n            addRoleDialog: false,\r\n            updateRoleDialog: false,\r\n            RoleTableInfo: [\r\n                { title: '角色名称', prop: 'role_name' },\r\n                { title: '角色描述', prop: 'role_desc' },\r\n                { title: '操作', slot: true, name: 'action' },\r\n            ],\r\n            treeProps: {\r\n                children: 'children',\r\n                label: 'label_name',\r\n            },\r\n            formRules: {\r\n                role_name: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入角色名称',\r\n                        trigger: 'blur',\r\n                    },\r\n                    { min: 3, max: 15, message: '角色名长度在3-15之间' },\r\n                ],\r\n                role_desc: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入角色描述',\r\n                        trigger: 'blur',\r\n                    },\r\n                    { min: 3, max: 256, message: '角色名长度在3-256之间' },\r\n                ],\r\n            },\r\n            addFormInfo: {\r\n                formFields: {\r\n                    role_name: '',\r\n                    role_desc: '',\r\n                },\r\n                itemData: [\r\n                    {\r\n                        label: '角色名称',\r\n                        prop: 'role_name',\r\n                        name: 'role_name',\r\n                        type: 'text',\r\n                    },\r\n                    {\r\n                        label: '角色描述',\r\n                        prop: 'role_desc',\r\n                        name: 'role_desc',\r\n                        type: 'textarea',\r\n                    },\r\n                ],\r\n            },\r\n            updateFormInfo: {\r\n                formFields: {},\r\n                itemData: [\r\n                    {\r\n                        label: '角色名称',\r\n                        prop: 'role_name',\r\n                        name: 'role_name',\r\n                        type: 'text',\r\n                    },\r\n                    {\r\n                        label: '角色描述',\r\n                        prop: 'role_desc',\r\n                        name: 'role_desc',\r\n                        type: 'textarea',\r\n                    },\r\n                ],\r\n            },\r\n        };\r\n    },\r\n    created() {\r\n        this.getRoleData();\r\n    },\r\n    methods: {\r\n        getRoleData() {\r\n            getRolesList().then((res) => {\r\n                if (res.data.code !== 200) {\r\n                    console.log(res.data);\r\n                    return this.$message.error(res.data.msg);\r\n                }\r\n                this.roleList = res.data.data;\r\n            });\r\n        },\r\n        removeLabelById(role, label_id) {\r\n            const parmas = {\r\n                role_id: role.id,\r\n                label_id,\r\n            };\r\n            console.log(parmas);\r\n            this.$confirm('此操作将删除该角色已拥有的权限, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning',\r\n            }).then(\r\n                (success) => {\r\n                    removeRoleLabel(parmas).then((res) => {\r\n                        console.log(res.data);\r\n                        if (res.data.code !== 200) {\r\n                            return this.$message.error(res.data.msg);\r\n                        }\r\n                        role.children = res.data.data;\r\n                        this.$message.success(res.data.msg);\r\n                    });\r\n                },\r\n                (error) => {\r\n                    this.$message.info('您已取消删除权限');\r\n                }\r\n            );\r\n        },\r\n        showSetPower(role) {\r\n            this.roleId = role.data.id;\r\n            console.log(this.roleId);\r\n            getLabelData().then((res) => {\r\n                if (res.data.code != 200) {\r\n                    return this.$message.error(res.data.msg);\r\n                }\r\n                this.labelTreeList = res.data.data;\r\n                this.powerDialog = true;\r\n                this.getRoledefKeys(role.data, this.defalutKeys);\r\n            });\r\n        },\r\n        getRoledefKeys(node, arr) {\r\n            if (node.label_level == 2) {\r\n                arr.push(node.id);\r\n            }\r\n            if (node.children) {\r\n                node.children.forEach((item) => {\r\n                    this.getRoledefKeys(item, arr);\r\n                });\r\n            }\r\n        },\r\n        setPowerDialogClosed() {\r\n            this.defalutKeys = [];\r\n            this.powerDialog = false;\r\n        },\r\n        setRolePower() {\r\n            const keys = [\r\n                ...this.$refs.treeRef.getCheckedKeys(),\r\n                ...this.$refs.treeRef.getHalfCheckedKeys(),\r\n            ];\r\n            const idStr = keys.join(',');\r\n            const params = {\r\n                role_id: this.roleId,\r\n                label_ids: idStr,\r\n            };\r\n            updateRoleLabel(params).then((res) => {\r\n                if (res.data.code !== 200) {\r\n                    return this.$message.error(res.data.msg);\r\n                }\r\n                this.getRoleData();\r\n                this.setPowerDialogClosed();\r\n                this.powerDialog = false;\r\n                return this.$message.success(res.data.msg);\r\n            });\r\n        },\r\n        cancelAddRoleDialog() {\r\n            this.addRoleDialog = false;\r\n            this.$refs.addFormRef.$refs.form.resetFields();\r\n        },\r\n        cancelUpdateRoleDialog() {\r\n            this.updateRoleDialog = false;\r\n            this.$refs.updateFormRef.$refs.form.resetFields();\r\n        },\r\n\r\n        addRole() {\r\n            createRole(this.addFormInfo.formFields).then((res) => {\r\n                if (res.data.code != 200) {\r\n                    return this.$message.error(res.data.msg);\r\n                }\r\n                this.cancelAddRoleDialog();\r\n                this.getRoleData();\r\n                return this.$message.success(res.data.msg);\r\n            });\r\n        },\r\n        removeRoleById(role_id) {\r\n            const params = { role_id };\r\n            this.$confirm('此操作将永久删除此角色, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning',\r\n            }).then(\r\n                (res) => {\r\n                    deleteRole(params).then((res) => {\r\n                        if (res.data.code !== 200) {\r\n                            return this.$message.error(res.data.msg);\r\n                        }\r\n                        this.getRoleData();\r\n                        return this.$message.success(res.data.msg);\r\n                    });\r\n                },\r\n                (error) => this.$message.info('已取消删除角色')\r\n            );\r\n        },\r\n        showUpdateDialog(id) {\r\n            const params = { id };\r\n            getRoleDetail(params).then((res) => {\r\n                if (res.data.code !== 200) {\r\n                    return this.$message.error(res.data.msg);\r\n                }\r\n                this.updateRoleDialog = true;\r\n                this.updateFormInfo.formFields = res.data.data;\r\n            });\r\n        },\r\n        changeRoleInfo() {\r\n            updateRole(this.updateFormInfo.formFields).then((res) => {\r\n                if (res.data.code !== 200) {\r\n                    return this.$message.error(res.data.msg);\r\n                }\r\n                this.updateRoleDialog = false;\r\n                this.getRoleData();\r\n                return this.$message.success(res.data.msg);\r\n            });\r\n        },\r\n    },\r\n    components: {\r\n        Breadcrumb,\r\n        ReTable,\r\n        ReDialog,\r\n        ReForm,\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.row {\r\n    margin-top: 2px;\r\n}\r\n.el-tag {\r\n    margin: 7px;\r\n}\r\n.bd_bottom {\r\n    border-bottom: 1px solid #eee;\r\n}\r\n.bd_top {\r\n    border-top: 1px solid #eee;\r\n}\r\n.vcenter {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/power"}]}