{"remainingRequest":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\babel-loader\\lib\\index.js!E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\MyStudyPro\\vue_file\\vue_backstage\\src\\components\\user\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\src\\components\\user\\Users.vue","mtime":1587544108202},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587210266454},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\babel-loader\\lib\\index.js","mtime":1587210265306},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587210266454},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\vue-loader\\lib\\index.js","mtime":1587210275486}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0VXNlcnNEYXRhLCBVcGRhdGVVc2VySW5mbywgZ2V0VXNlclR5cGVzLCBhZGRVc2VyRGF0YSwgZ2V0VXNlckluZm8sIERlbGV0ZVVzZXIgfSBmcm9tICduZXR3b3JrL2FwaV91cmwnOwppbXBvcnQgKiBhcyB2YWxpZCBmcm9tICd1dGlscy92YWxpZGF0b3JzJzsKaW1wb3J0IEJyZWFkY3J1bWIgZnJvbSAnLi4vY29tbW9uL0JyZWFkY3J1bWInOwppbXBvcnQgUmVUYWJsZSBmcm9tICcuLi9jb21tb24vUmVUYWJsZSc7CmltcG9ydCBSZUZvcm0gZnJvbSAnLi4vY29tbW9uL1JlRm9ybSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVXNlcnMnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBjaGVja1JlUGFzcyA9IGZ1bmN0aW9uIGNoZWNrUmVQYXNzKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodmFsdWUgIT09IF90aGlzLmFkZEZvcm0ucGFzc3dvcmQpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5a+G56CB5LiN5LiA6Ie077yM6K+36YeN5paw6L6T5YWlJykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsKICAgICAgICB9CiAgICAgIH0sIDUwMCk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHF1ZXJ5X2luZm86IHsKICAgICAgICBxdWVyeTogJycsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBzaXplOiAyCiAgICAgIH0sCiAgICAgIHRvdGFsOiAwLAogICAgICB1c2VyTGlzdDogW10sCiAgICAgIHVzZXJfdHlwZXM6IFtdLAogICAgICB1c2VyVGFibGVJbmZvOiBbewogICAgICAgIHRpdGxlOiAn5aeT5ZCNJywKICAgICAgICBwcm9wOiAndXNlcm5hbWUnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+aJi+acuicsCiAgICAgICAgcHJvcDogJ3VzZXJwaG9uZScKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn6YKu566xJywKICAgICAgICBwcm9wOiAndXNlcl9lbWFpbCcKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn54q25oCBJywKICAgICAgICBzbG90OiB0cnVlLAogICAgICAgIG5hbWU6ICdpc19hY3RpdmUnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+aTjeS9nCcsCiAgICAgICAgc2xvdDogdHJ1ZSwKICAgICAgICBuYW1lOiAnYWN0aW9uJwogICAgICB9XSwKICAgICAgLy8g5o6n5Yi25re75Yqg55So5oi35a+56K+d5qGG5piv5ZCm5pi+56S65LiO6ZqQ6JePCiAgICAgIGFkZERpYWxvZzogZmFsc2UsCiAgICAgIC8vIOaOp+WItuS/ruaUueeUqOaIt+WvueivneahhuaYr+WQpuaYvuekuuS4jumakOiXjwogICAgICBlZGl0RGlhbG9nOiBmYWxzZSwKICAgICAgLy8g6KGo5Y2V6aqM6K+B6KeE5YiZCiAgICAgIGZvcm1SdWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMywKICAgICAgICAgIG1heDogMTUsCiAgICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN6ZW/5bqm5ZyoMy0xNeS5i+mXtCcKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+iuvue9rueUqOaIt+WvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDYsCiAgICAgICAgICBtYXg6IDMyLAogICAgICAgICAgbWVzc2FnZTogJ+WvhueggemVv+W6puWcqDYtMzLkvY3kuYvpl7QnCiAgICAgICAgfV0sCiAgICAgICAgdXNlcnBob25lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35omL5py65Y+3JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMTEsCiAgICAgICAgICBtYXg6IDExLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpTEx5L2N5omL5py65Y+3JwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWQuY2hlY2tQaG9uZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHVzZXJfZW1haWw6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkLmNoZWNrRW1haWwsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB1c2VyX3R5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nnlKjmiLfop5LoibInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgLy8g5re75Yqg55So5oi355qE6KGo5Y2V5pWw5o2uCiAgICAgIGFkZEZvcm1EYXRhOiB7CiAgICAgICAgZm9ybVJlZjogJ2FkZEZvcm1SZWYnLAogICAgICAgIGZvcm1GaWVsZHM6IHsKICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICAgIHVzZXJwaG9uZTogJycsCiAgICAgICAgICB1c2VyX2VtYWlsOiAnJwogICAgICAgIH0sCiAgICAgICAgaXRlbURhdGE6IFt7CiAgICAgICAgICBsYWJlbDogJ+eUqOaIt+WQjeensCcsCiAgICAgICAgICBwcm9wOiAndXNlcm5hbWUnLAogICAgICAgICAgbmFtZTogJ3VzZXJuYW1lJywKICAgICAgICAgIHR5cGU6ICd0ZXh0JwogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiAn55So5oi35a+G56CBJywKICAgICAgICAgIHByb3A6ICdwYXNzd29yZCcsCiAgICAgICAgICBuYW1lOiAncGFzc3dvcmQnLAogICAgICAgICAgdHlwZTogJ3RleHQnCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICfnlKjmiLfmiYvmnLonLAogICAgICAgICAgcHJvcDogJ3VzZXJwaG9uZScsCiAgICAgICAgICBuYW1lOiAndXNlcnBob25lJywKICAgICAgICAgIHR5cGU6ICd0ZXh0JwogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiAn55So5oi36YKu566xJywKICAgICAgICAgIHByb3A6ICd1c2VyX2VtYWlsJywKICAgICAgICAgIG5hbWU6ICd1c2VyX2VtYWlsJywKICAgICAgICAgIHR5cGU6ICd0ZXh0JwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIC8vIOS/ruaUueeUqOaIt+eahOihqOWNleaVsOaNrgogICAgICBlZGl0Rm9ybURhdGE6IHsKICAgICAgICBmb3JtUmVmOiAnZWRpdEZvcm1SZWYnLAogICAgICAgIGZvcm1GaWVsZHM6IHt9LAogICAgICAgIGl0ZW1EYXRhOiBbewogICAgICAgICAgbGFiZWw6ICfnlKjmiLflkI3np7AnLAogICAgICAgICAgbmFtZTogJ3VzZXJuYW1lJywKICAgICAgICAgIHR5cGU6ICd0ZXh0JywKICAgICAgICAgIGRpc2FibGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogJ+eUqOaIt+aJi+acuicsCiAgICAgICAgICB0eXBlOiAndGV4dCcsCiAgICAgICAgICBwcm9wOiAndXNlcnBob25lJywKICAgICAgICAgIG5hbWU6ICd1c2VycGhvbmUnCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICfnlKjmiLfpgq7nrrEnLAogICAgICAgICAgdHlwZTogJ3RleHQnLAogICAgICAgICAgcHJvcDogJ3VzZXJfZW1haWwnLAogICAgICAgICAgbmFtZTogJ3VzZXJfZW1haWwnCiAgICAgICAgfV0KICAgICAgfSAvLyDmt7vliqDooajljZXpqozor4Hop4TliJnlr7nosaEKCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIHRoaXMuZ2V0VXNlclR5cGVMaXN0KCk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBCcmVhZGNydW1iOiBCcmVhZGNydW1iLAogICAgUmVUYWJsZTogUmVUYWJsZSwKICAgIFJlRm9ybTogUmVGb3JtCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bnlKjmiLfliJfooagKICAgIGdldFVzZXJMaXN0OiBmdW5jdGlvbiBnZXRVc2VyTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBnZXRVc2Vyc0RhdGEodGhpcy5xdWVyeV9pbmZvKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSAhPSAyMDApIHJldHVybiBfdGhpczIuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICBfdGhpczIudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICBfdGhpczIudXNlckxpc3QgPSByZXMuZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmm7TmlLnpobXpnaLmlbDmja7kuKrmlbAKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UobmV3U2l6ZSkgewogICAgICB0aGlzLnF1ZXJ5X2luZm8uc2l6ZSA9IG5ld1NpemU7CiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIH0sCiAgICAvLyDlpITnkIblvZPliY3miYDlpITpobXmlbAKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UoY3VycmVudF9wYWdlKSB7CiAgICAgIHRoaXMucXVlcnlfaW5mby5wYWdlID0gY3VycmVudF9wYWdlOwogICAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgICB9LAogICAgLy8g5pu05pS555So5oi354q25oCBCiAgICBjaGFuZ2VTdGF0dXM6IGZ1bmN0aW9uIGNoYW5nZVN0YXR1cyh1c2VyX2luZm8pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGlkOiB1c2VyX2luZm8uaWQsCiAgICAgICAgaXNfYWN0aXZlOiB1c2VyX2luZm8uaXNfYWN0aXZlID8gMSA6IDAKICAgICAgfTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgVXBkYXRlVXNlckluZm8ocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubXNnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwgNTAwKTsKICAgIH0sCiAgICAvLyDojrflj5bnlKjmiLfnsbvlnovliJfooagKICAgIGdldFVzZXJUeXBlTGlzdDogZnVuY3Rpb24gZ2V0VXNlclR5cGVMaXN0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGdldFVzZXJUeXBlcygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlICE9IDIwMCkgcmV0dXJuIF90aGlzNC4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIF90aGlzNC51c2VyX3R5cGVzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g55uR5ZCs5re75Yqg55So5oi35a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2CiAgICBhZGREaWFsb2dDbG9zZWQ6IGZ1bmN0aW9uIGFkZERpYWxvZ0Nsb3NlZCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcyk7CiAgICAgIHRoaXMuJHJlZnNbdGhpcy5hZGRGb3JtRGF0YS5mb3JtUmVmXS4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgLy8g55uR5ZCs5L+u5pS555So5oi35a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2CiAgICBlZGl0RGlhbG9nQ2xvc2VkOiBmdW5jdGlvbiBlZGl0RGlhbG9nQ2xvc2VkKCkgewogICAgICB0aGlzLiRyZWZzW3RoaXMuZWRpdEZvcm1EYXRhLmZvcm1SZWZdLiRyZWZzLmZvcm0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvLyDmt7vliqDnlKjmiLcKICAgIGFkZFVzZXI6IGZ1bmN0aW9uIGFkZFVzZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1t0aGlzLmFkZEZvcm1EYXRhLmZvcm1SZWZdLiRyZWZzLmZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOwogICAgICAgIF90aGlzNS5hZGREaWFsb2cgPSBmYWxzZTsKICAgICAgICBhZGRVc2VyRGF0YShfdGhpczUuYWRkRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgIT0gJzIwMCcpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDnlKjmiLfmiJDlip8nKTsKCiAgICAgICAgICAgIF90aGlzNS5hZGREaWFsb2cgPSBmYWxzZTsgLy8gIOmHjeaWsOiOt+WPlueUqOaIt+WIl+ihqAoKICAgICAgICAgICAgX3RoaXM1LmdldFVzZXJMaXN0KCk7CiAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bnlKjmiLfkv6Hmga/lubbmmL7npLrmm7TmlLnlr7nor53moYYKICAgIHNob3dFZGl0RGlhbG9nOiBmdW5jdGlvbiBzaG93RWRpdERpYWxvZyh1c2VyX2lkKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBpZDogdXNlcl9pZAogICAgICB9OwogICAgICBnZXRVc2VySW5mbyhwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlICE9ICcyMDAnKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM2LiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczYuZWRpdERpYWxvZyA9IHRydWU7CiAgICAgICAgX3RoaXM2LmVkaXRGb3JtRGF0YS5mb3JtRmllbGRzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pu05pS555So5oi35L+h5oGvCiAgICB1cGRhdGVVc2VyRGF0YTogZnVuY3Rpb24gdXBkYXRlVXNlckRhdGEoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBpZDogdGhpcy5lZGl0Rm9ybURhdGEuZm9ybUZpZWxkcy5pZCwKICAgICAgICB1c2VycGhvbmU6IHRoaXMuZWRpdEZvcm1EYXRhLmZvcm1GaWVsZHMudXNlcnBob25lLAogICAgICAgIHVzZXJfZW1haWw6IHRoaXMuZWRpdEZvcm1EYXRhLmZvcm1GaWVsZHMudXNlcl9lbWFpbAogICAgICB9OwogICAgICB0aGlzLiRyZWZzW3RoaXMuZWRpdEZvcm1EYXRhLmZvcm1SZWZdLiRyZWZzLmZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOwogICAgICAgIFVwZGF0ZVVzZXJJbmZvKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgIT0gJzIwMCcpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzNy5lZGl0RGlhbG9nID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpczcuZ2V0VXNlckxpc3QoKTsKCiAgICAgICAgICAgIHJldHVybiBfdGhpczcuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tc2cpOwogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlVXNlcjogZnVuY3Rpb24gcmVtb3ZlVXNlcih1c2VyX2lkKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk5q2k55So5oi3LCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgRGVsZXRlVXNlcih7CiAgICAgICAgICAgIGlkOiB1c2VyX2lkCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgIT09IDIwMCkgcmV0dXJuIF90aGlzOC4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwoKICAgICAgICAgICAgX3RoaXM4LmdldFVzZXJMaXN0KCk7CgogICAgICAgICAgICByZXR1cm4gX3RoaXM4LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubXNnKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBfdGhpczguJG1lc3NhZ2UuaW5mbygn5bey5Y+W5raI5Yig6Zmk55So5oi3Jyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <breadcrumb>\r\n            <span slot=\"first-title\">用户管理</span>\r\n            <span slot=\"second-title\">用户列表</span>\r\n        </breadcrumb>\r\n        <!-- 卡片区域视图 -->\r\n        <el-card>\r\n            <!-- 搜索栏视图 -->\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"9\">\r\n                    <el-input\r\n                        placeholder=\"请输入内容\"\r\n                        v-model=\"query_info.query\"\r\n                        clearable\r\n                    >\r\n                        <el-button\r\n                            slot=\"append\"\r\n                            icon=\"el-icon-search\"\r\n                            @click=\"getUserList\"\r\n                        ></el-button>\r\n                    </el-input>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                    <el-button type=\"primary\" @click=\"addDialog = true\"\r\n                        >添加用户</el-button\r\n                    >\r\n                </el-col>\r\n            </el-row>\r\n            <re-table :dataList=\"userList\" :tableInfo=\"userTableInfo\">\r\n                <template slot-scope=\"user\" slot=\"is_active\">\r\n                    <el-switch\r\n                        v-model=\"user.data.is_active\"\r\n                        active-color=\"#13ce66\"\r\n                        @change=\"changeStatus(user.data)\"\r\n                    >\r\n                    </el-switch>\r\n                </template>\r\n                <template slot-scope=\"user\" slot=\"action\">\r\n                    <el-button\r\n                        type=\"primary\"\r\n                        size=\"mini\"\r\n                        icon=\"el-icon-edit\"\r\n                        circle\r\n                        @click=\"showEditDialog(user.data.id)\"\r\n                    ></el-button>\r\n                    <el-button\r\n                        type=\"danger\"\r\n                        size=\"mini\"\r\n                        icon=\"el-icon-delete\"\r\n                        circle\r\n                        @click=\"removeUser(user.data.id)\"\r\n                    ></el-button>\r\n                    <el-tooltip\r\n                        class=\"item\"\r\n                        effect=\"dark\"\r\n                        content=\"分配角色\"\r\n                        placement=\"top\"\r\n                        :enterable=\"false\"\r\n                    >\r\n                        <el-button\r\n                            type=\"warning\"\r\n                            size=\"mini\"\r\n                            icon=\"el-icon-setting\"\r\n                            circle\r\n                        ></el-button>\r\n                    </el-tooltip>\r\n                </template>\r\n            </re-table>\r\n            <!-- 分页操作 -->\r\n            <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"query_info.page\"\r\n                :page-sizes=\"[2, 5, 10, 20]\"\r\n                :page-size=\"query_info.size\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\"\r\n            >\r\n            </el-pagination>\r\n            <!-- 添加用户的对话框 -->\r\n            <el-dialog\r\n                title=\"添加用户\"\r\n                :visible.sync=\"addDialog\"\r\n                width=\"50%\"\r\n                @close=\"addDialogClosed\"\r\n                :close-on-click-modal=\"false\"\r\n            >\r\n                <!-- 内容主题区域 -->\r\n                <re-form\r\n                    :formData=\"addFormData\"\r\n                    :formRules=\"formRules\"\r\n                    ref=\"addFormRef\"\r\n                ></re-form>\r\n                <!--  底部按钮区域 -->\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"addDialog = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n                </span>\r\n            </el-dialog>\r\n            <!-- 修改用户对话框 -->\r\n            <el-dialog\r\n                title=\"修改用户\"\r\n                width=\"50%\"\r\n                @close=\"editDialogClosed\"\r\n                :visible.sync=\"editDialog\"\r\n                :close-on-click-modal=\"false\"\r\n            >\r\n                <re-form\r\n                    :formData=\"editFormData\"\r\n                    :formRules=\"formRules\"\r\n                    ref=\"editFormRef\"\r\n                ></re-form>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"editDialog = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"updateUserData\"\r\n                        >确 定</el-button\r\n                    >\r\n                </span>\r\n            </el-dialog>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    getUsersData,\r\n    UpdateUserInfo,\r\n    getUserTypes,\r\n    addUserData,\r\n    getUserInfo,\r\n    DeleteUser\r\n} from 'network/api_url';\r\nimport * as valid from 'utils/validators';\r\n\r\nimport Breadcrumb from '../common/Breadcrumb';\r\nimport ReTable from '../common/ReTable';\r\nimport ReForm from '../common/ReForm';\r\n\r\nexport default {\r\n    name: 'Users',\r\n    data() {\r\n        var checkRePass = (rule, value, callback) => {\r\n            setTimeout(() => {\r\n                if (value !== this.addForm.password) {\r\n                    callback(new Error('密码不一致，请重新输入'));\r\n                } else {\r\n                    return callback();\r\n                }\r\n            }, 500);\r\n        };\r\n        return {\r\n            query_info: {\r\n                query: '',\r\n                page: 1,\r\n                size: 2\r\n            },\r\n            total: 0,\r\n            userList: [],\r\n            user_types: [],\r\n            userTableInfo: [\r\n                { title: '姓名', prop: 'username' },\r\n                { title: '手机', prop: 'userphone' },\r\n                { title: '邮箱', prop: 'user_email' },\r\n                { title: '状态', slot: true, name: 'is_active' },\r\n                { title: '操作', slot: true, name: 'action' }\r\n            ],\r\n            // 控制添加用户对话框是否显示与隐藏\r\n            addDialog: false,\r\n            // 控制修改用户对话框是否显示与隐藏\r\n            editDialog: false,\r\n            // 表单验证规则\r\n            formRules: {\r\n                username: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入用户名',\r\n                        trigger: 'blur'\r\n                    },\r\n                    { min: 3, max: 15, message: '用户名长度在3-15之间' }\r\n                ],\r\n                password: [\r\n                    {\r\n                        required: true,\r\n                        message: '请设置用户密码',\r\n                        trigger: 'blur'\r\n                    },\r\n                    {\r\n                        min: 6,\r\n                        max: 32,\r\n                        message: '密码长度在6-32位之间'\r\n                    }\r\n                ],\r\n                userphone: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入用户手机号',\r\n                        trigger: 'blur'\r\n                    },\r\n                    { min: 11, max: 11, message: '请输入11位手机号' },\r\n                    { validator: valid.checkPhone, trigger: 'blur' }\r\n                ],\r\n                user_email: [{ validator: valid.checkEmail, trigger: 'blur' }],\r\n                user_type: [{ required: true, message: '请选择用户角色' }]\r\n            },\r\n            // 添加用户的表单数据\r\n            addFormData: {\r\n                formRef: 'addFormRef',\r\n                formFields: {\r\n                    username: '',\r\n                    password: '',\r\n                    userphone: '',\r\n                    user_email: ''\r\n                },\r\n                itemData: [\r\n                    {\r\n                        label: '用户名称',\r\n                        prop: 'username',\r\n                        name: 'username',\r\n                        type: 'text',\r\n                    },\r\n                    {\r\n                        label: '用户密码',\r\n                        prop: 'password',\r\n                        name: 'password',\r\n                        type: 'text',\r\n                    },\r\n                    {\r\n                        label: '用户手机',\r\n                        prop: 'userphone',\r\n                        name: 'userphone',\r\n                        type: 'text',\r\n                    },\r\n                    {\r\n                        label: '用户邮箱',\r\n                        prop: 'user_email',\r\n                        name: 'user_email',\r\n                        type: 'text',\r\n                    }\r\n                ]\r\n            },\r\n            // 修改用户的表单数据\r\n            editFormData: {\r\n                formRef: 'editFormRef',\r\n                formFields: {},\r\n                itemData: [\r\n                    {\r\n                        label: '用户名称',\r\n                        name: 'username',\r\n                        type: 'text',\r\n                        disable: true\r\n                    },\r\n                    {\r\n                        label: '用户手机',\r\n                        type: 'text',\r\n                        prop: 'userphone',\r\n                        name: 'userphone'\r\n                    },\r\n                    {\r\n                        label: '用户邮箱',\r\n                        type: 'text',\r\n                        prop: 'user_email',\r\n                        name: 'user_email'\r\n                    }\r\n                ]\r\n            }\r\n            // 添加表单验证规则对象\r\n        };\r\n    },\r\n    created() {\r\n        this.getUserList();\r\n        this.getUserTypeList();\r\n    },\r\n    components: {\r\n        Breadcrumb,\r\n        ReTable,\r\n        ReForm\r\n    },\r\n    methods: {\r\n        // 获取用户列表\r\n        getUserList() {\r\n            getUsersData(this.query_info).then(res => {\r\n                if (res.data.code != 200)\r\n                    return this.$message.error(res.data.msg);\r\n                this.total = res.data.total;\r\n                this.userList = res.data.data;\r\n            });\r\n        },\r\n        // 更改页面数据个数\r\n        handleSizeChange(newSize) {\r\n            this.query_info.size = newSize;\r\n            this.getUserList();\r\n        },\r\n        // 处理当前所处页数\r\n        handleCurrentChange(current_page) {\r\n            this.query_info.page = current_page;\r\n            this.getUserList();\r\n        },\r\n        // 更改用户状态\r\n        changeStatus(user_info) {\r\n            let params = {\r\n                id: user_info.id,\r\n                is_active: user_info.is_active ? 1 : 0\r\n            };\r\n            setTimeout(() => {\r\n                UpdateUserInfo(params).then(res => {\r\n                    if (res.data.code == 200) {\r\n                        return this.$message.success(res.data.msg);\r\n                    } else {\r\n                        return this.$message.error(res.data.msg);\r\n                    }\r\n                });\r\n            }, 500);\r\n        },\r\n        // 获取用户类型列表\r\n        getUserTypeList() {\r\n            getUserTypes().then(res => {\r\n                if (res.data.code != 200)\r\n                    return this.$message.error(res.data.msg);\r\n                this.user_types = res.data.data;\r\n            });\r\n        },\r\n        // 监听添加用户对话框的关闭事件\r\n        addDialogClosed() {\r\n            console.log(this.$refs);\r\n            this.$refs[this.addFormData.formRef].$refs.form.resetFields();\r\n        },\r\n        // 监听修改用户对话框的关闭事件\r\n        editDialogClosed() {\r\n            this.$refs[this.editFormData.formRef].$refs.form.resetFields();\r\n        },\r\n        // 添加用户\r\n        addUser() {\r\n            this.$refs[this.addFormData.formRef].$refs.form.validate(valid => {\r\n                if (!valid) return;\r\n                this.addDialog = false;\r\n                addUserData(this.addForm).then(res => {\r\n                    setTimeout(() => {\r\n                        if (res.data.code != '200') {\r\n                            return this.$message.error(res.data.msg);\r\n                        }\r\n                        this.$message.success('添加用户成功');\r\n                        this.addDialog = false;\r\n                        //  重新获取用户列表\r\n                        this.getUserList();\r\n                    }, 500);\r\n                });\r\n            });\r\n        },\r\n        // 获取用户信息并显示更改对话框\r\n        showEditDialog(user_id) {\r\n            const params = { id: user_id };\r\n            getUserInfo(params).then(res => {\r\n                if (res.data.code != '200') {\r\n                    return this.$message.error(res.data.msg);\r\n                }\r\n                this.editDialog = true;\r\n                this.editFormData.formFields = res.data.data;\r\n            });\r\n        },\r\n        // 更改用户信息\r\n        updateUserData() {\r\n            const params = {\r\n                id: this.editFormData.formFields.id,\r\n                userphone: this.editFormData.formFields.userphone,\r\n                user_email: this.editFormData.formFields.user_email\r\n            };\r\n            this.$refs[this.editFormData.formRef].$refs.form.validate(valid => {\r\n                if (!valid) return;\r\n                UpdateUserInfo(params).then(res => {\r\n                    setTimeout(() => {\r\n                        if (res.data.code != '200') {\r\n                            return this.$message.error(res.data.msg);\r\n                        }\r\n                        this.editDialog = false;\r\n                        this.getUserList();\r\n                        return this.$message.success(res.data.msg);\r\n                    }, 500);\r\n                });\r\n            });\r\n        },\r\n        removeUser(user_id) {\r\n            this.$confirm('此操作将永久删除此用户, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(\r\n                res => {\r\n                    setTimeout(() => {\r\n                        DeleteUser({ id: user_id }).then(res => {\r\n                            if (res.data.code !== 200)\r\n                                return this.$message.error(res.data.msg);\r\n                            this.getUserList();\r\n                            return this.$message.success(res.data.msg);\r\n                        });\r\n                    }, 500);\r\n                },\r\n                error => this.$message.info('已取消删除用户')\r\n            );\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n"],"sourceRoot":"src/components/user"}]}