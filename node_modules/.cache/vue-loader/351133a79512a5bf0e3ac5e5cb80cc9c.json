{"remainingRequest":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\MyStudyPro\\vue_file\\vue_backstage\\src\\components\\user\\UsersCopy.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\src\\components\\user\\UsersCopy.vue","mtime":1586921539290},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\MyStudyPro\\vue_file\\vue_backstage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQnJlYWRjcnVtYiBmcm9tICcuLi9jb21tb24vQnJlYWRjcnVtYic7DQppbXBvcnQgUmVUYWJsZSBmcm9tICcuLi9jb21tb24vUmVUYWJsZSc7DQppbXBvcnQgUmVGb3JtIGZyb20gJy4uL2NvbW1vbi9SZUZvcm0nOw0KaW1wb3J0IHsNCiAgICBnZXRVc2Vyc0RhdGEsDQogICAgVXBkYXRlVXNlckluZm8sDQogICAgZ2V0VXNlclR5cGVzLA0KICAgIGFkZFVzZXJEYXRhLA0KICAgIGdldFVzZXJJbmZvLA0KICAgIERlbGV0ZVVzZXINCn0gZnJvbSAnbmV0d29yay9hcGlfdXJsJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnVXNlckNvcHknLA0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgQnJlYWRjcnVtYiwNCiAgICAgICAgUmVUYWJsZSwNCiAgICAgICAgUmVGb3JtDQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCk7DQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgcXVlcnlfaW5mbzogew0KICAgICAgICAgICAgICAgIHF1ZXJ5OiAnJywNCiAgICAgICAgICAgICAgICBwYWdlOiAxLA0KICAgICAgICAgICAgICAgIHNpemU6IDINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB1c2VyTGlzdDogW10sDQogICAgICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgICAgIHVzZXJUYWJsZUluZm86IFsNCiAgICAgICAgICAgICAgICB7IHRpdGxlOiAn5aeT5ZCNJywgcHJvcDogJ3VzZXJuYW1lJyB9LA0KICAgICAgICAgICAgICAgIHsgdGl0bGU6ICfmiYvmnLonLCBwcm9wOiAndXNlcnBob25lJyB9LA0KICAgICAgICAgICAgICAgIHsgdGl0bGU6ICfpgq7nrrEnLCBwcm9wOiAndXNlcl9lbWFpbCcgfSwNCiAgICAgICAgICAgICAgICB7IHRpdGxlOiAn54q25oCBJywgc2xvdDogdHJ1ZSwgbmFtZTogJ2lzX2FjdGl2ZScgfSwNCiAgICAgICAgICAgICAgICB7IHRpdGxlOiAn5pON5L2cJywgc2xvdDogdHJ1ZSwgbmFtZTogJ2FjdGlvbicgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGFkZERpYWxvZzogZmFsc2UsDQogICAgICAgICAgICBmb3JtUnVsZXM6IHsNCiAgICAgICAgICAgICAgICBuYW1lOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsDQogICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgeyBtaW46IDMsIG1heDogMTUsIG1lc3NhZ2U6ICfnlKjmiLflkI3plb/luqblnKgzLTE15LmL6Ze0JyB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBwaG9uZTogWw0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLfmiYvmnLrlj7cnLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHsgbWluOiAxMSwgbWF4OiAxMSwgbWVzc2FnZTogJ+ivt+i+k+WFpTEx5L2N5omL5py65Y+3JyB9LA0KICAgICAgICAgICAgICAgICAgICAvLyB7IHZhbGlkYXRvcjogY2hlY2tQaG9uZSwgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgYWRkZm9ybURhdGE6IHsNCiAgICAgICAgICAgICAgICBmb3JtUmVmOiAnYWRkRm9ybVJlZicsDQogICAgICAgICAgICAgICAgZm9ybU1vZGVsOiB7DQogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnIHF3JywNCiAgICAgICAgICAgICAgICAgICAgdXNlcnBob25lOiAnMTIzJw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgaXRlbURhdGE6IFsNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfnlKjmiLflkI3np7AnLA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3VzZXJuYW1lJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGU6IHRydWUNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfnlKjmiLfmiYvmnLonLA0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvcDogJ3Bob25lJywNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICd1c2VycGhvbmUnDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGdldFVzZXJMaXN0KCkgew0KICAgICAgICAgICAgZ2V0VXNlcnNEYXRhKHRoaXMucXVlcnlfaW5mbykudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlICE9IDIwMCkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsNCiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7DQogICAgICAgICAgICAgICAgdGhpcy51c2VyTGlzdCA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g5pu05pS56aG16Z2i5pWw5o2u5Liq5pWwDQogICAgICAgIGhhbmRsZVNpemVDaGFuZ2UobmV3U2l6ZSkgew0KICAgICAgICAgICAgdGhpcy5xdWVyeV9pbmZvLnNpemUgPSBuZXdTaXplOw0KICAgICAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCh0aGlzLnF1ZXJ5X2luZm8pOw0KICAgICAgICB9LA0KICAgICAgICAvLyDlpITnkIblvZPliY3miYDlpITpobXmlbANCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZShjdXJyZW50X3BhZ2UpIHsNCiAgICAgICAgICAgIHRoaXMucXVlcnlfaW5mby5wYWdlID0gY3VycmVudF9wYWdlOw0KICAgICAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCh0aGlzLnF1ZXJ5X2luZm8pOw0KICAgICAgICB9DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["UsersCopy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UsersCopy.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\r\n    <div class=\"user-list\">\r\n        <breadcrumb>\r\n            <span slot=\"first-title\">用户管理</span>\r\n            <span slot=\"second-title\">用户列表</span>\r\n        </breadcrumb>\r\n        <el-card>\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"9\">\r\n                    <el-input\r\n                        placeholder=\"请输入内容\"\r\n                        v-model=\"query_info.query\"\r\n                        clearable\r\n                    >\r\n                        <el-button\r\n                            slot=\"append\"\r\n                            icon=\"el-icon-search\"\r\n                        ></el-button>\r\n                    </el-input>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                    <el-button type=\"primary\" @click=\"addDialog = true\"\r\n                        >添加用户</el-button\r\n                    >\r\n                </el-col>\r\n            </el-row>\r\n            <re-table :dataList=\"userList\" :tableInfo=\"userTableInfo\">\r\n                <template slot-scope=\"user\" slot=\"is_active\">\r\n                    <el-switch\r\n                        v-model=\"user.data.is_active\"\r\n                        active-color=\"#13ce66\"\r\n                    >\r\n                    </el-switch>\r\n                </template>\r\n                <template slot-scope=\"user\" slot=\"action\">\r\n                    <el-button\r\n                        type=\"primary\"\r\n                        size=\"mini\"\r\n                        icon=\"el-icon-edit\"\r\n                        circle\r\n                        @click=\"showEditDialog(user.data.id)\"\r\n                    ></el-button>\r\n                    <el-button\r\n                        type=\"danger\"\r\n                        size=\"mini\"\r\n                        icon=\"el-icon-delete\"\r\n                        circle\r\n                        @click=\"showEditDialog(user.data.id)\"\r\n                    ></el-button>\r\n                    <el-tooltip\r\n                        class=\"item\"\r\n                        effect=\"dark\"\r\n                        content=\"分配角色\"\r\n                        placement=\"top\"\r\n                        :enterable=\"false\"\r\n                    >\r\n                        <el-button\r\n                            type=\"warning\"\r\n                            size=\"mini\"\r\n                            icon=\"el-icon-setting\"\r\n                            circle\r\n                        ></el-button>\r\n                    </el-tooltip>\r\n                </template>\r\n            </re-table>\r\n            <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"query_info.page\"\r\n                :page-sizes=\"[2, 5, 10, 20]\"\r\n                :page-size=\"query_info.size\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\"\r\n            >\r\n            </el-pagination>\r\n            <el-dialog\r\n                title=\"添加用户\"\r\n                :visible.sync=\"addDialog\"\r\n                width=\"50%\"\r\n                :close-on-click-modal=\"false\"\r\n            >\r\n                <re-form :formData=\"addformData\" :formRules=\"formRules\">\r\n                </re-form>\r\n            </el-dialog>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Breadcrumb from '../common/Breadcrumb';\r\nimport ReTable from '../common/ReTable';\r\nimport ReForm from '../common/ReForm';\r\nimport {\r\n    getUsersData,\r\n    UpdateUserInfo,\r\n    getUserTypes,\r\n    addUserData,\r\n    getUserInfo,\r\n    DeleteUser\r\n} from 'network/api_url';\r\nexport default {\r\n    name: 'UserCopy',\r\n    components: {\r\n        Breadcrumb,\r\n        ReTable,\r\n        ReForm\r\n    },\r\n    created() {\r\n        this.getUserList();\r\n    },\r\n    data() {\r\n        return {\r\n            query_info: {\r\n                query: '',\r\n                page: 1,\r\n                size: 2\r\n            },\r\n            userList: [],\r\n            total: 0,\r\n            userTableInfo: [\r\n                { title: '姓名', prop: 'username' },\r\n                { title: '手机', prop: 'userphone' },\r\n                { title: '邮箱', prop: 'user_email' },\r\n                { title: '状态', slot: true, name: 'is_active' },\r\n                { title: '操作', slot: true, name: 'action' }\r\n            ],\r\n            addDialog: false,\r\n            formRules: {\r\n                name: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入用户名',\r\n                        trigger: 'blur'\r\n                    },\r\n                    { min: 3, max: 15, message: '用户名长度在3-15之间' }\r\n                ],\r\n                phone: [\r\n                    {\r\n                        required: true,\r\n                        message: '请输入用户手机号',\r\n                        trigger: 'blur'\r\n                    },\r\n                    { min: 11, max: 11, message: '请输入11位手机号' },\r\n                    // { validator: checkPhone, trigger: 'blur' }\r\n                ]\r\n            },\r\n            addformData: {\r\n                formRef: 'addFormRef',\r\n                formModel: {\r\n                    username: ' qw',\r\n                    userphone: '123'\r\n                },\r\n                itemData: [\r\n                    {\r\n                        label: '用户名称',\r\n                        name: 'username',\r\n                        disable: true\r\n                    },\r\n                    {\r\n                        label: '用户手机',\r\n                        prop: 'phone',\r\n                        name: 'userphone'\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        getUserList() {\r\n            getUsersData(this.query_info).then(res => {\r\n                if (res.data.code != 200)\r\n                    return this.$message.error(res.data.msg);\r\n                this.total = res.data.total;\r\n                this.userList = res.data.data;\r\n            });\r\n        },\r\n        // 更改页面数据个数\r\n        handleSizeChange(newSize) {\r\n            this.query_info.size = newSize;\r\n            this.getUserList(this.query_info);\r\n        },\r\n        // 处理当前所处页数\r\n        handleCurrentChange(current_page) {\r\n            this.query_info.page = current_page;\r\n            this.getUserList(this.query_info);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n"]}]}